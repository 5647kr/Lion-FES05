<!DOCTYPE html>
<html lang="ko-KR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>fetch</title>
</head>
<body>
  <script>
// response 객체로 보이며 요청에 대한 종합적인 응답 정보가 저장되어 있는 객체이다.

let result1 = fetch("https://mdn.github.io/learning-area/javascript/oojs/json/superheroes.json");
console.log("result1: ", result1);

// 콘솔창을 확인하면 promise를 반환하고 promise상태는 fulfilled 인데 아직 pending상태이다.
//**
// 그 이유는 fetch는 비동기 통신이다 보니, fetch가 api에서 데이터를 다 받아오기 전에 console이 찍히다보니 pending상태로 찍힌다. 이를 해결하기 위해 then을 사용한다. */

let result2 = fetch("https://mdn.github.io/learning-area/javascript/oojs/json/superheroes.json");
result2.then((data) => {
  console.log("result2-data: ", data)
})
//**
// 콘솔을 확인하면 response 객체가 정상적으로 찍히는것을 볼 수 있다. 하지만 JSON 데이터가 아닌 객체가 보인다. JSON 데이터를 받기 위해선 .json()메소드를 통해 js 객체로 변환이 가능한 promise 객체를 반환받을 수 있다. 따라서 한번 더 then 을 사용해 데이터를 뽑아야 한다. */

let result3 = fetch("https://mdn.github.io/learning-area/javascript/oojs/json/superheroes.json");
result3.then((data) => data.json()).then((data) => {
  console.log("result3-data: ", data)
})

  </script>
</body>
</html>